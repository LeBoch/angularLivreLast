<table>
  <thead>
    <tr>
      <th>Titre</th>
      <th>Prix</th>
      <th>Auteur</th>
      <th>Date de publication</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
      <td>{{ book.title }}</td>
      <td>{{ book.price }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.publicationDate | date }}</td>
      <td>
        <button mat-raised-button color="primary" (click)="editBook(book)">Modifier</button>
        <button mat-raised-button color="warn" (click)="deleteBook(book.id)">Supprimer</button>
      </td>
    </tr>
  </tbody>
</table>
<div *ngIf="editingBook" style="margin-top: 20px;">
  <h3>Modifier le livre</h3>
  <form (ngSubmit)="updateBook()">
    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Titre</mat-label>
      <input matInput id="title" [(ngModel)]="editingBook.title" name="title" required />
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Prix</mat-label>
      <input matInput type="number" id="price" [(ngModel)]="editingBook.price" name="price" required />
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Auteur</mat-label>
      <input matInput id="author" [(ngModel)]="editingBook.author" name="author" required />
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Date de publication</mat-label>
      <input matInput type="date" id="publicationDate" [(ngModel)]="editingBook.publicationDate" name="publicationDate" required />
    </mat-form-field>

    <div style="margin-top: 10px;">
      <button mat-raised-button color="primary" type="submit">Enregistrer</button>
      <button mat-raised-button color="warn" type="button" (click)="cancelEdit()">Annuler</button>
    </div>
  </form>
</div>
